!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{constructor(){this.input=document.createElement("input"),this.input.className="search-box__input",this.input.type="text",this.input.placeholder="Search on YouTube..."}getInput(){return this.input}}class n{constructor(){this.searchBox=document.createElement("div"),this.searchBox.className="search-box";const e=(new s).getInput();this.searchBox.appendChild(e),this.searchBox.innerHTML+='<div class="search-box__search-button"><i class="fas fa-search"></i></div>'}getSearchBox(){return this.searchBox}}class r{constructor(){this.clipsLine=document.createElement("div"),this.clipsLine.className="clips-line"}getClipsLine(){return this.clipsLine}addClip(e){this.clipsLine.appendChild(e.getClip())}}class l{constructor(){this.sliderDot=document.createElement("button"),this.sliderDot.className="slider__slider-dot"}getSliderDot(){return this.sliderDot}}class a{constructor(){this.slider=document.createElement("div"),this.slider.className="slider",this.arrayClips=[],this.clipsLine=(new r).getClipsLine(),this.slider.appendChild(this.clipsLine),this.dotsLine=document.createElement("div"),this.dotsLine.className="dots-line",this.slider.appendChild(this.dotsLine),this.numberOfCards=0,this.getNumberOfCards(),this.setWindowComtrole()}getSlider(){return this.slider}addClips(e){this.arrayClips=e,this.setSlider()}setSlider(){const e=this.slider.querySelector(".clips-line");e.innerHTML="",this.dotsLine.innerHTML="";for(let t=0;t<Math.ceil(this.arrayClips.length/this.numberOfCards);t+=1){const i=(new l).getSliderDot();i.innerHTML=`${t+1}`,this.dotsLine.appendChild(i);const s=(new r).getClipsLine();if(!t){for(let e=t*this.numberOfCards;e<t*this.numberOfCards+this.numberOfCards&&e<this.arrayClips.length;e+=1)s.appendChild(this.arrayClips[e].getClip()),i.classList.add("dot_active");this.slider.replaceChild(s,e)}i.addEventListener("click",()=>{this.slider.querySelector(".dot_active").classList.remove("dot_active"),i.classList.add("dot_active");const e=this.slider.querySelector(".clips-line");for(let e=t*this.numberOfCards;e<t*this.numberOfCards+this.numberOfCards&&e<this.arrayClips.length;e+=1)s.appendChild(this.arrayClips[e].getClip());this.slider.replaceChild(s,e)})}}getNumberOfCards(){window.innerWidth>0&&(this.numberOfCards=1),window.innerWidth>700&&(this.numberOfCards=2),window.innerWidth>900&&(this.numberOfCards=3),window.innerWidth>1200&&(this.numberOfCards=4)}setWindowComtrole(){window.addEventListener("resize",()=>{const e=this.numberOfCards;this.getNumberOfCards(),e!==this.numberOfCards&&this.setSlider()})}}const c="AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y",o=16;class d{constructor(e){this.clipInform=e,this.clip=document.createElement("div"),this.clip.className="clip",this.createClipCard()}createClipCard(){this.clip.innerHTML=`<div class="clip__image">\n    <img src=${this.clipInform.imgURL}>\n    <div class="clip__background-title">\n        <a href="${this.clipInform.url}" target="_blank" class="clip__title">${this.clipInform.title}</a>\n    </div>\n  </div>\n  <ul class="description-list">\n    <li class="description-list__item">\n      <i class="fas fa-user"></i>\n      <h3>${this.clipInform.channelTitle}</h3>\n    </li>\n    <li class="description-list__item">\n      <i class="fas fa-eye"></i>\n      <h3>${this.clipInform.viewCount}</h3>\n    </li>\n    <li class="description-list__item">\n      <i class="far fa-calendar-alt"></i>\n      <h3>${this.clipInform.publishedAt}</h3>\n    </li>\n    <li class="description-list__item">\n      <p>${this.clipInform.description}</p>\n    </li>\n  </ul>`}getClip(){return this.clip}}class h{constructor(e){this.loadImage=document.createElement("img"),this.loadImage.setAttribute("src",e),this.loadImage.className="loadImage"}getLoadImage(){return this.loadImage}}(new class{constructor(){this.main=document.createElement("main"),this.main.className="main",document.body.appendChild(this.main)}start(){const e=(new n).getSearchBox();this.main.appendChild(e);const t=new h("src/assets/img/icon-youtube1.png").getLoadImage();this.main.appendChild(t),e.addEventListener("keypress",i=>{if("Enter"===i.key){const i=new a,s=[];(function(e){return fetch(`https://www.googleapis.com/youtube/v3/search?key=${c}&type=video&part=snippet&maxResults=${o}&fields=nextPageToken,items(id(videoId))&q=${e}`).then(e=>e.json()).then(e=>{const t=e.items.map(e=>e.id.videoId).join(",");return fetch(`https://www.googleapis.com/youtube/v3/videos?key=${c}&id=${t}&part=snippet,statistics`).then(e=>e.json()).then(e=>{const t=[];return e.items.forEach(e=>{const i={};i.title=e.snippet.title,i.url=`https://www.youtube.com/watch?v=${e.id}`,i.imgURL=e.snippet.thumbnails.medium.url,i.channelTitle=e.snippet.channelTitle.substring(0,40),i.publishedAt=e.snippet.publishedAt.toLocaleString("ru-Ru").substring(0,10),i.viewCount=e.statistics.viewCount,i.description=`${e.snippet.description.substring(0,100)} ...`,t.push(i)}),t}).catch(e=>console.log("error to get IDs",e))}).catch(e=>console.log("error to get query",e))})(e.querySelector(".search-box__input").value).then(e=>{e.forEach(e=>{const t=new d(e);s.push(t)}),i.addClips(s)}),this.main.contains(t)?(this.main.removeChild(t),this.main.appendChild(i.getSlider())):this.main.replaceChild(i.getSlider(),this.main.querySelector(".slider"))}})}}).start()}]);
//# sourceMappingURL=app.bundle.js.map